import{c as L,r as P,j as e,X as ie,P as Me,T as Ve,S as Ee}from"./index-CCzDhyqY.js";const ge=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],K=L("barcode",ge);const Se=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ce=L("camera",Se);const Ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ae=L("circle-alert",Ie);const ze=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Be=L("shuffle",ze),f={BASIC:"basic",PRICING:"pricing"},B={unitName:"",salePrice:0,wholesalePrice:0,minSalePrice:0,purchasePrice:0,barcode:""},J=()=>`variant-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,H=()=>({tempId:J(),id:null,size:"",color:"",price:0,cost:0,quantity:0,barcode:""}),qe=new Set(["salePrice","wholesalePrice","minSalePrice","purchasePrice"]),i=l=>String(l??"").trim(),E=(l,d=0)=>{const p=Number.parseFloat(String(l??"").replace(",","."));return Number.isFinite(p)?p:d},N=(l,d=0)=>{const p=Number.parseInt(String(l??"").replace(/[^0-9-]/g,""),10);return Number.isFinite(p)?p:d},u=l=>Number(Math.max(0,E(l,0)).toFixed(2)),X=(l,d)=>{const p=E(l,0),h=E(d,0);return p<=0?0:Number(((h-p)/p*100).toFixed(2))},me=(l="")=>{const d=i(l).replace(/[^\w\u0600-\u06FF\s-]/g,"").split(/\s+/).filter(Boolean).slice(0,3).map(h=>h.slice(0,3).toUpperCase()).join("-"),p=Date.now().toString().slice(-6);return`${d||"PRD"}-${p}`},Re=l=>(10-String(l).replace(/\D/g,"").padStart(12,"0").slice(0,12).split("").map(h=>Number(h)).reduce((h,v,b)=>h+(b%2===0?v:v*3),0)%10)%10,ue=()=>{const l=Date.now().toString().slice(-5),d=Math.floor(Math.random()*1e5).toString().padStart(5,"0"),p=`20${l}${d}`;return`${p}${Re(p)}`},$=(l,d)=>{const p=i(l?.unitName)||"Ù‚Ø·Ø¹Ø©",h=u(l?.salePrice),v=u(l?.purchasePrice),b=u(Math.min(Math.max(0,E(l?.wholesalePrice,h)),h)),x=u(Math.min(Math.max(0,E(l?.minSalePrice,b)),b));return{unitName:p,salePrice:h,wholesalePrice:b,minSalePrice:x,purchasePrice:v,barcode:i(l?.barcode)}},ae=l=>{if(!l)return{name:"",categoryId:"",brand:"",description:"",sku:me(),barcode:ue(),image:"",type:"store",isActive:!0,minStock:5,maxStock:100,notes:"",unit:{...B,unitName:"Ù‚Ø·Ø¹Ø©"},hasVariants:!1,variants:[],variantSizeDraft:"S, M, L, XL",variantColorDraft:"Ø£Ø³ÙˆØ¯, Ø£Ø¨ÙŠØ¶"};const d={...B,unitName:i(l.unitName)||"Ù‚Ø·Ø¹Ø©",salePrice:u(l.basePrice),wholesalePrice:u(l.wholesalePrice??l.basePrice),minSalePrice:u(l.minSalePrice??l.wholesalePrice??l.basePrice),purchasePrice:u(l.cost),barcode:i(l.barcode)},p=$(d),b=(Array.isArray(l.variants)?l.variants:[]).filter(x=>i(x.productSize)||i(x.color)).map(x=>({tempId:J(),id:x.id||null,size:i(x.productSize),color:i(x.color),price:u(x.price),cost:u(x.cost),quantity:Math.max(0,N(x.quantity,0)),barcode:i(x.barcode)}));return{name:i(l.name),categoryId:l.categoryId?String(l.categoryId):"",brand:i(l.brand),description:i(l.description),sku:i(l.sku),barcode:i(l.barcode),image:i(l.image),type:i(l.type)||"store",isActive:l.isActive??!0,minStock:Math.max(0,N(l?.inventory?.minStock,5)),maxStock:Math.max(0,N(l?.inventory?.maxStock,100)),notes:i(l?.inventory?.notes),unit:p,hasVariants:b.length>0,variants:b,variantSizeDraft:"S, M, L, XL",variantColorDraft:"Ø£Ø³ÙˆØ¯, Ø£Ø¨ÙŠØ¶"}};function $e({isOpen:l,onClose:d,onSave:p,mode:h="create",isLoadingProduct:v=!1,initialData:b=null,categories:x=[],isSaving:I=!1}){const[j,pe]=P.useState([]),[F,W]=P.useState([]),[de,q]=P.useState({}),[U,w]=P.useState(f.BASIC),[c,g]=P.useState(()=>ae(b)),[O,M]=P.useState(""),Y=P.useRef(null),S=h==="edit",R=I||S&&v;P.useEffect(()=>{if(!l||S&&(v||!b))return;const s=ae(b);g(s),M(""),w(f.BASIC),(async()=>{const r=await window.api.getWarehouses();if(r?.error||pe(Array.isArray(r)?r.filter(o=>o.isActive):[]),b?.id){const o=await window.api.getWarehouseStocks(b.id);if(!o?.error)if(o&&typeof o=="object"&&!Array.isArray(o)){W(Array.isArray(o.totals)?o.totals:[]);const t={};(Array.isArray(o.variants)?o.variants:[]).forEach(n=>{const a=n?.id?`id:${n.id}`:null;a&&(t[a]={},(Array.isArray(n.warehouseStocks)?n.warehouseStocks:[]).forEach(y=>{const V=N(y?.warehouseId,0),_=Math.max(0,N(y?.quantity,0));V>0&&_>0&&(t[a][V]=_)}))}),q(t)}else W(Array.isArray(o)?o:[]),q({})}else W([]),q({})})()},[l,b,S,v]),P.useEffect(()=>{if(!l)return;const s=r=>{r.key==="Escape"&&!I&&d()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[l,I,d]);const k=P.useMemo(()=>$(c.unit||B),[c.unit]),G=P.useMemo(()=>c.hasVariants?Math.max(0,(Array.isArray(c.variants)?c.variants:[]).reduce((s,r)=>s+N(r?.quantity,0),0)):Math.max(0,F.reduce((s,r)=>s+N(r?.quantity,0),0)),[c.hasVariants,c.variants,F]);P.useEffect(()=>{q(s=>{const r={...s},o=new Set;let t=!1;return(Array.isArray(c.variants)?c.variants:[]).forEach(n=>{const a=n?.id?`id:${n.id}`:`temp:${n?.tempId}`;!a||a==="temp:"||(o.add(a),r[a]||(r[a]={},t=!0))}),Object.keys(r).forEach(n=>{o.has(n)||(delete r[n],t=!0)}),t?r:s})},[c.variants]);const Z=s=>s?.id?`id:${s.id}`:`temp:${s?.tempId}`,Q=(s,r)=>{const o=Z(s);return Math.max(0,N(de?.[o]?.[r],0))},ee=s=>j.reduce((r,o)=>r+Q(s,o.id),0),Ne=(s,r,o)=>{const t=Z(s);!t||t==="temp:"||q(n=>{const a={...n[t]||{}},y=Math.max(0,N(o,0));y>0?a[r]=y:delete a[r];const V={...n};return V[t]=a,V})},D=(s,r)=>{g(o=>({...o,[s]:r}))},z=(s,r)=>{g(o=>{const t=$(o.unit||B);if(s==="purchasePrice"){const n=u(r),a=X(t.purchasePrice,t.salePrice),y=u(n*(1+a/100));t.purchasePrice=n,t.salePrice=y,t.wholesalePrice=Math.min(t.wholesalePrice,y),t.minSalePrice=Math.min(t.minSalePrice,y)}else if(s==="salePrice"){const n=u(r);t.salePrice=n,t.wholesalePrice=Math.min(t.wholesalePrice,n),t.minSalePrice=Math.min(t.minSalePrice,n)}else s==="wholesalePrice"?(t.wholesalePrice=u(Math.min(E(r,0),t.salePrice)),t.minSalePrice=Math.min(t.minSalePrice,t.wholesalePrice)):s==="minSalePrice"?t.minSalePrice=u(Math.min(E(r,0),t.wholesalePrice)):t[s]=qe.has(s)?E(r,0):r;return{...o,unit:t}})},he=s=>{g(r=>{const o=$(r.unit||B),t=Math.max(-100,E(s,0)),n=u(o.purchasePrice*(1+t/100));return o.salePrice=n,o.wholesalePrice=Math.min(o.wholesalePrice,n),o.minSalePrice=Math.min(o.minSalePrice,n),{...r,unit:o}})},C=(s,r,o)=>{g(t=>{const n=[...t.variants],a={...n[s]||H()};return r==="price"||r==="cost"?a[r]=u(o):r==="quantity"?a.quantity=Math.max(0,N(o,0)):a[r]=o,n[s]=a,{...t,variants:n}})},be=(s={})=>{g(r=>({...r,hasVariants:!0,variants:[...r.variants,{...H(),price:u(s.price??k.salePrice),cost:u(s.cost??k.purchasePrice),...s}]}))},fe=s=>{g(r=>({...r,variants:r.variants.filter((o,t)=>t!==s)}))},xe=s=>{g(r=>s?r.variants.length>0?{...r,hasVariants:!0}:{...r,hasVariants:!0,variants:[{...H(),size:"M",color:"Ø£Ø³ÙˆØ¯",price:u(k.salePrice),cost:u(k.purchasePrice)}]}:{...r,hasVariants:!1,variants:[]})},se=({excludeProduct:s=!1,excludeVariantIndex:r=null}={})=>{const o=new Set;if(!s){const t=i(c.barcode);t&&o.add(t.toLowerCase())}return c.variants.forEach((t,n)=>{if(r!==null&&n===r)return;const a=i(t?.barcode);a&&o.add(a.toLowerCase())}),o},re=s=>{for(let r=0;r<60;r+=1){const o=ue();if(!s.has(o.toLowerCase()))return o}return`${Date.now()}${Math.floor(Math.random()*10)}`.slice(0,13)},te=()=>{const s=se({excludeProduct:!0});D("barcode",re(s))},je=s=>{const r=se({excludeVariantIndex:s});C(s,"barcode",re(r))},ye=()=>{R||Y.current?.click()},De=()=>{D("image","")},Pe=s=>{const r=s.target.files?.[0];if(s.target.value="",!r)return;if(!r.type.startsWith("image/")){M("Ø§Ø®ØªØ± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ§Ù„Ø­ (PNG/JPG/WebP)."),w(f.BASIC);return}const o=2*1024*1024;if(r.size>o){M("Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ±. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 2MB."),w(f.BASIC);return}const t=new FileReader;t.onload=()=>{const n=i(t.result);D("image",n),M("")},t.onerror=()=>{M("ØªØ¹Ø°Ø± Ù‚Ø±Ø§Ø¡Ø© Ù…Ù„Ù Ø§Ù„ØµÙˆØ±Ø©."),w(f.BASIC)},t.readAsDataURL(r)},oe=P.useCallback(s=>{const r=s.target;if(!r||r.tagName!=="INPUT")return;const o=String(r.type||"").toLowerCase();o==="checkbox"||o==="radio"||r.readOnly||r.disabled||typeof r.select=="function"&&r.select()},[]),ve=()=>{if(S&&v)return;M("");const s=i(c.name);if(!s){M("Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù Ù…Ø·Ù„ÙˆØ¨."),w(f.BASIC);return}const r=$(c.unit||B),o=(c.hasVariants?c.variants:[]).map(m=>({tempId:m.tempId||J(),id:m.id?N(m.id,0):null,size:i(m.size)||"Ù…ÙˆØ­Ø¯",color:i(m.color)||"Ø§ÙØªØ±Ø§Ø¶ÙŠ",price:u(m.price||r.salePrice),cost:u(m.cost||r.purchasePrice),quantity:Math.max(0,N(m.quantity,0)),barcode:i(m.barcode)||null})).filter(m=>m.size||m.color||m.price||m.cost||m.quantity||m.barcode);if(c.hasVariants&&o.length===0){M("Ø£Ø¶Ù Ù…ØªØºÙŠØ±Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø£Ùˆ Ø£Ù„ØºÙ Ø®ÙŠØ§Ø± Ø§Ù„Ø£Ù„ÙˆØ§Ù†/Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª."),w(f.PRICING);return}const t=o.map(m=>i(m.barcode).toLowerCase()).filter(Boolean);if(new Set(t).size!==t.length){M("ÙŠÙˆØ¬Ø¯ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù…ÙƒØ±Ø± Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª."),w(f.PRICING);return}const n=i(c.barcode)||i(r.barcode),a=[...t,n.toLowerCase()].filter(Boolean);if(new Set(a).size!==a.length){M("ÙŠÙˆØ¬Ø¯ ØªØ¹Ø§Ø±Ø¶ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø¨ÙŠÙ† Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª."),w(f.PRICING);return}const y=i(c.categoryId)||null,V=Math.max(0,N(c.minStock,5)),_=Math.max(V,N(c.maxStock,100)),ne=[];if(c.hasVariants&&j.length>0)for(let m=0;m<o.length;m+=1){const A=o[m],T=c.variants[m]||A,we=ee(T);A.quantity=we;for(const ce of j){const le=Q(T,ce.id);le<=0||ne.push({variantId:A.id||null,tempId:A.tempId||T.tempId||null,warehouseId:ce.id,quantity:le})}}const ke=j.map(m=>{const A=F.find(T=>T.warehouseId===m.id);return{warehouseId:m.id,quantity:A?Math.max(0,N(A.quantity,0)):0}}).filter(m=>m.quantity>0||h==="edit");p({name:s,categoryId:y,brand:i(c.brand)||null,description:i(c.description)||null,sku:i(c.sku)||null,barcode:n||null,image:i(c.image)||null,type:i(c.type)||"store",isActive:!!c.isActive,totalQuantity:G,minStock:V,maxStock:_,notes:i(c.notes)||null,unitName:i(r.unitName)||"Ù‚Ø·Ø¹Ø©",hasVariants:!!c.hasVariants,variants:o,basePrice:u(r.salePrice),cost:u(r.purchasePrice),wholesalePrice:u(r.wholesalePrice),minSalePrice:u(r.minSalePrice),warehouseStocks:ke,variantWarehouseStocks:ne})};return l?e.jsxDEV("div",{className:"product-modal-overlay",onClick:()=>!I&&d(),children:e.jsxDEV("div",{className:"product-modal",onClick:s=>s.stopPropagation(),children:[e.jsxDEV("div",{className:"product-modal-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{children:S?"ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬":"Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:648,columnNumber:13},this),e.jsxDEV("p",{children:S?"Ø­Ø¯Ù‘Ø« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ù„ØªØ³Ø¹ÙŠØ± ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†":"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„ØªØ³Ø¹ÙŠØ± ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:649,columnNumber:13},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:647,columnNumber:11},this),e.jsxDEV("button",{type:"button",className:"close-button",onClick:d,disabled:I,children:e.jsxDEV(ie,{size:20},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:652,columnNumber:13},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:651,columnNumber:11},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:646,columnNumber:9},this),e.jsxDEV("div",{className:"product-modal-tabs",children:[e.jsxDEV("button",{type:"button",className:`tab-button ${U===f.BASIC?"active":""}`,onClick:()=>w(f.BASIC),disabled:R,children:"Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:657,columnNumber:11},this),e.jsxDEV("button",{type:"button",className:`tab-button ${U===f.PRICING?"active":""}`,onClick:()=>w(f.PRICING),disabled:R,children:"Ø§Ù„ØªØ³Ø¹ÙŠØ± ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:660,columnNumber:11},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:656,columnNumber:9},this),e.jsxDEV("div",{className:"product-modal-body",children:S&&v?e.jsxDEV("div",{className:"product-modal-loading",children:[e.jsxDEV("span",{className:"product-modal-loading-spinner",children:"ğŸ”„"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:668,columnNumber:15},this),e.jsxDEV("span",{children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬..."},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:669,columnNumber:15},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:667,columnNumber:13},this):e.jsxDEV(e.Fragment,{children:[O?e.jsxDEV("div",{className:"modal-inline-alert",children:[e.jsxDEV(Ae,{size:16},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:675,columnNumber:19},this),e.jsxDEV("span",{children:O},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:676,columnNumber:19},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:674,columnNumber:17},this):null,U===f.BASIC?e.jsxDEV("div",{className:"form-section",children:e.jsxDEV("div",{className:"basic-layout",children:[e.jsxDEV("div",{className:"image-panel",children:[e.jsxDEV("input",{ref:Y,type:"file",accept:"image/*",className:"image-file-input",onChange:Pe},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:684,columnNumber:23},this),e.jsxDEV("div",{className:"image-upload-wrap",children:[e.jsxDEV("button",{type:"button",className:"image-upload-box",onClick:ye,children:c.image?e.jsxDEV("img",{src:c.image,alt:c.name||"Product"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:687,columnNumber:45},this):e.jsxDEV(Ce,{size:34},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:687,columnNumber:109},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:686,columnNumber:25},this),c.image?e.jsxDEV("button",{type:"button",className:"image-clear-fab",onClick:s=>{s.stopPropagation(),De()},"aria-label":"Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©",title:"Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø©",disabled:R,children:e.jsxDEV(ie,{size:14},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:701,columnNumber:29},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:690,columnNumber:27},this):null]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:685,columnNumber:23},this),e.jsxDEV("div",{className:"image-status-row",children:e.jsxDEV("label",{className:"toggle-switch",children:[e.jsxDEV("input",{type:"checkbox",checked:c.isActive,onChange:s=>D("isActive",s.target.checked)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:708,columnNumber:27},this),e.jsxDEV("span",{className:"toggle-slider"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:709,columnNumber:27},this),e.jsxDEV("span",{children:c.isActive?"Ø§Ù„Ù…Ù†ØªØ¬ Ù†Ø´Ø·":"Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù†Ø´Ø·"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:710,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:707,columnNumber:25},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:706,columnNumber:23},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:683,columnNumber:21},this),e.jsxDEV("div",{className:"main-form-grid",children:[e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:718,columnNumber:27},this),e.jsxDEV("input",{type:"text",className:"form-input",value:c.name,onChange:s=>D("name",s.target.value),placeholder:"Ù…Ø«Ø§Ù„: ØªÙŠØ´ÙŠØ±Øª Ù‚Ø·Ù†"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:719,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:717,columnNumber:25},this),e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø§Ù„ÙØ¦Ø©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:728,columnNumber:27},this),e.jsxDEV("select",{className:"form-select",value:c.categoryId,onChange:s=>D("categoryId",s.target.value),children:[e.jsxDEV("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† ÙØ¦Ø©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:730,columnNumber:29},this),x.map(s=>e.jsxDEV("option",{value:s.id,children:[s.icon||"ğŸ“¦"," ",s.name]},s.id,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:732,columnNumber:31},this))]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:729,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:727,columnNumber:25},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:716,columnNumber:23},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"SKU / ÙƒÙˆØ¯ Ø§Ù„ØµÙ†Ù"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:740,columnNumber:27},this),e.jsxDEV("div",{className:"field-with-button",children:[e.jsxDEV("input",{type:"text",className:"form-input",value:c.sku,onChange:s=>D("sku",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:742,columnNumber:29},this),e.jsxDEV("button",{type:"button",className:"btn-icon",onClick:()=>D("sku",me(c.name)),title:"ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯",children:e.jsxDEV(Be,{size:14},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:744,columnNumber:31},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:743,columnNumber:29},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:741,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:739,columnNumber:25},this),e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:749,columnNumber:27},this),e.jsxDEV("div",{className:"field-with-button",children:[e.jsxDEV("input",{type:"text",className:"form-input",value:c.barcode,onChange:s=>D("barcode",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:751,columnNumber:29},this),e.jsxDEV("button",{type:"button",className:"btn-icon",onClick:te,title:"ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ø±ÙƒÙˆØ¯",children:e.jsxDEV(K,{size:14},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:753,columnNumber:31},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:752,columnNumber:29},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:750,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:748,columnNumber:25},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:738,columnNumber:23},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø§Ù„Ù…Ø§Ø±ÙƒØ©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:761,columnNumber:27},this),e.jsxDEV("input",{type:"text",className:"form-input",value:c.brand,onChange:s=>D("brand",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:762,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:760,columnNumber:25},this),e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:765,columnNumber:27},this),e.jsxDEV("select",{className:"form-select",value:c.type,onChange:s=>D("type",s.target.value),children:[e.jsxDEV("option",{value:"store",children:"Ù…Ù†ØªØ¬ Ù…Ø®Ø²Ù†ÙŠ"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:767,columnNumber:29},this),e.jsxDEV("option",{value:"service",children:"Ø®Ø¯Ù…Ø©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:768,columnNumber:29},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:766,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:764,columnNumber:25},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:759,columnNumber:23},this),e.jsxDEV("div",{className:"form-row",children:e.jsxDEV("label",{className:"form-group form-grow",children:[e.jsxDEV("span",{children:"Ø§Ù„ÙˆØµÙ"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:775,columnNumber:27},this),e.jsxDEV("textarea",{className:"form-input",rows:3,value:c.description,onChange:s=>D("description",s.target.value),placeholder:"ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„ØµÙ†Ù"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:776,columnNumber:27},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:774,columnNumber:25},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:773,columnNumber:23},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:715,columnNumber:21},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:682,columnNumber:19},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:681,columnNumber:17},this):null,U===f.PRICING?e.jsxDEV("div",{className:"form-section",onFocusCapture:oe,onClickCapture:oe,children:[e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:799,columnNumber:23},this),e.jsxDEV("input",{type:"text",className:"form-input",value:k.unitName,onChange:s=>z("unitName",s.target.value),placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø·Ø¹Ø©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:800,columnNumber:23},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:798,columnNumber:21},this),e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:809,columnNumber:23},this),e.jsxDEV("input",{type:"number",step:"0.01",min:"0",className:"form-input",value:k.wholesalePrice,onChange:s=>z("wholesalePrice",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:810,columnNumber:23},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:808,columnNumber:21},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:797,columnNumber:19},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø£Ù‚Ù„ Ø³Ø¹Ø± Ø¨ÙŠØ¹"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:823,columnNumber:23},this),e.jsxDEV("input",{type:"number",step:"0.01",min:"0",className:"form-input",value:k.minSalePrice,onChange:s=>z("minSalePrice",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:824,columnNumber:23},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:822,columnNumber:21},this),e.jsxDEV("label",{className:"form-group",children:[e.jsxDEV("span",{children:"Ø­Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:834,columnNumber:23},this),e.jsxDEV("input",{type:"number",min:"0",className:"form-input",value:c.minStock,onChange:s=>D("minStock",N(s.target.value,5))},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:835,columnNumber:23},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:833,columnNumber:21},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:821,columnNumber:19},this),e.jsxDEV("section",{className:"unified-pricing-section",style:{marginTop:"24px",borderTop:"1px solid #e2e8f0",paddingTop:"24px"},children:[e.jsxDEV("div",{className:"variants-header",style:{marginBottom:"16px"},children:[e.jsxDEV("label",{className:"toggle-switch",children:[e.jsxDEV("input",{type:"checkbox",checked:c.hasVariants,onChange:s=>xe(s.target.checked)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:842,columnNumber:25},this),e.jsxDEV("span",{className:"toggle-slider"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:847,columnNumber:25},this),e.jsxDEV("span",{children:"Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù‡ Ø£Ù„ÙˆØ§Ù†/Ù…Ù‚Ø§Ø³Ø§Øª"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:848,columnNumber:25},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:841,columnNumber:23},this),c.hasVariants?e.jsxDEV("div",{className:"variants-actions",children:e.jsxDEV("button",{type:"button",className:"btn-inline",onClick:()=>be(),children:[e.jsxDEV(Me,{size:14},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:854,columnNumber:29},this),"Ø¥Ø¶Ø§ÙØ© Ù…ØªØºÙŠØ±"]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:853,columnNumber:27},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:852,columnNumber:25},this):null]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:840,columnNumber:21},this),e.jsxDEV("div",{className:"variants-table-wrap",children:e.jsxDEV("table",{className:"variants-table",children:[e.jsxDEV("thead",{children:e.jsxDEV("tr",{children:[c.hasVariants&&e.jsxDEV("th",{children:"Ø§Ù„Ù…Ù‚Ø§Ø³"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:865,columnNumber:54},this),c.hasVariants&&e.jsxDEV("th",{children:"Ø§Ù„Ù„ÙˆÙ†"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:866,columnNumber:54},this),e.jsxDEV("th",{children:"Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:867,columnNumber:29},this),e.jsxDEV("th",{children:"Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:868,columnNumber:29},this),e.jsxDEV("th",{children:"Ø§Ù„Ù†Ø³Ø¨Ø© %"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:869,columnNumber:29},this),j.length===0&&e.jsxDEV("th",{children:"Ø§Ù„ÙƒÙ…ÙŠØ©"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:870,columnNumber:57},this),j.map(s=>e.jsxDEV("th",{children:[s.icon||"ğŸ­"," ",s.name]},s.id,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:871,columnNumber:52},this)),j.length>0&&e.jsxDEV("th",{children:"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:872,columnNumber:55},this),e.jsxDEV("th",{children:"Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:873,columnNumber:29},this),c.hasVariants&&e.jsxDEV("th",{},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:874,columnNumber:54},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:864,columnNumber:27},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:863,columnNumber:25},this),e.jsxDEV("tbody",{children:c.hasVariants?c.variants.map((s,r)=>{const o=ee(s),t=X(s.cost,s.price);return e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("input",{type:"text",value:s.size,onChange:n=>C(r,"size",n.target.value),placeholder:"M"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:884,columnNumber:35},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:883,columnNumber:33},this),e.jsxDEV("td",{children:e.jsxDEV("input",{type:"text",value:s.color,onChange:n=>C(r,"color",n.target.value),placeholder:"Ø£Ø³ÙˆØ¯"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:887,columnNumber:35},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:886,columnNumber:33},this),e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",step:"0.01",value:s.cost,onChange:n=>C(r,"cost",n.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:890,columnNumber:35},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:889,columnNumber:33},this),e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",step:"0.01",value:s.price,onChange:n=>C(r,"price",n.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:893,columnNumber:35},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:892,columnNumber:33},this),e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",step:"0.01",value:t,onChange:n=>{const a=E(n.target.value,0);C(r,"price",u(s.cost*(1+a/100)))}},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:896,columnNumber:35},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:895,columnNumber:33},this),j.length===0&&e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",value:s.quantity,onChange:n=>C(r,"quantity",n.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:903,columnNumber:37},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:902,columnNumber:35},this),j.map(n=>e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",value:Q(s,n.id),onChange:a=>Ne(s,n.id,a.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:908,columnNumber:37},this)},n.id,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:907,columnNumber:35},this)),j.length>0&&e.jsxDEV("td",{style:{textAlign:"center",fontWeight:"bold"},children:o},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:911,columnNumber:59},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"unit-barcode-field",style:{display:"flex"},children:[e.jsxDEV("input",{type:"text",value:s.barcode||"",onChange:n=>C(r,"barcode",n.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:914,columnNumber:37},this),e.jsxDEV("button",{type:"button",className:"btn-icon",onClick:()=>je(r),title:"ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø§Ù„Ù…ØªØºÙŠØ±",children:e.jsxDEV(K,{size:14},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:916,columnNumber:39},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:915,columnNumber:37},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:913,columnNumber:35},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:912,columnNumber:33},this),e.jsxDEV("td",{children:c.variants.length>1&&e.jsxDEV("button",{type:"button",className:"delete-btn",onClick:()=>fe(r),"aria-label":"Ø­Ø°Ù Ø§Ù„Ù…ØªØºÙŠØ±",children:e.jsxDEV(Ve,{size:16},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:923,columnNumber:39},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:922,columnNumber:37},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:920,columnNumber:33},this)]},s.tempId||s.id||r,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:882,columnNumber:31},this)}):e.jsxDEV("tr",{children:[e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",step:"0.01",value:k.purchasePrice,onChange:s=>z("purchasePrice",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:932,columnNumber:33},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:931,columnNumber:31},this),e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",step:"0.01",value:k.salePrice,onChange:s=>z("salePrice",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:935,columnNumber:33},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:934,columnNumber:31},this),e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",step:"0.01",value:X(k.purchasePrice,k.salePrice),onChange:s=>he(s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:938,columnNumber:33},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:937,columnNumber:31},this),j.length===0&&e.jsxDEV("td",{style:{textAlign:"center",fontWeight:"bold"},children:G},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:941,columnNumber:33},this),j.map(s=>{const r=F.find(t=>t.warehouseId===s.id),o=r?N(r.quantity,0):0;return e.jsxDEV("td",{children:e.jsxDEV("input",{type:"number",min:"0",value:o,onChange:t=>{const n=N(t.target.value,0);W(a=>{const y=a.filter(V=>V.warehouseId!==s.id);return n>0||h==="edit"?[...y,{warehouseId:s.id,quantity:n,warehouse:s}]:y})}},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:948,columnNumber:37},this)},s.id,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:947,columnNumber:35},this)}),j.length>0&&e.jsxDEV("td",{style:{textAlign:"center",fontWeight:"bold"},children:G},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:959,columnNumber:57},this),e.jsxDEV("td",{children:e.jsxDEV("div",{className:"unit-barcode-field",style:{display:"flex"},children:[e.jsxDEV("input",{type:"text",value:k.barcode||c.barcode||"",onChange:s=>z("barcode",s.target.value)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:962,columnNumber:35},this),e.jsxDEV("button",{type:"button",className:"btn-icon",onClick:te,title:"ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ø±ÙƒÙˆØ¯",children:e.jsxDEV(K,{size:14},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:964,columnNumber:37},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:963,columnNumber:35},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:961,columnNumber:33},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:960,columnNumber:31},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:930,columnNumber:29},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:877,columnNumber:25},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:862,columnNumber:23},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:861,columnNumber:21},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:839,columnNumber:19},this),j.length===0&&e.jsxDEV("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fbbf24",textAlign:"center"},children:e.jsxDEV("span",{style:{color:"#92400e"},children:"âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø®Ø§Ø²Ù† Ù†Ø´Ø·Ø©. ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ù…Ø®Ø§Ø²Ù† Ù…Ù† ØµÙØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø²Ù†."},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:977,columnNumber:23},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:976,columnNumber:21},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:792,columnNumber:17},this):null]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:672,columnNumber:13},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:665,columnNumber:9},this),e.jsxDEV("div",{className:"product-modal-footer",children:[e.jsxDEV("button",{type:"button",className:"btn-cancel",onClick:d,disabled:I,children:"Ø¥Ù„ØºØ§Ø¡"},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:989,columnNumber:11},this),e.jsxDEV("button",{type:"button",className:"btn-save",onClick:ve,disabled:R,children:I?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":S&&v?"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...":e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ee,{size:16},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:991,columnNumber:105},this)," Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬"]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:991,columnNumber:103},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:990,columnNumber:11},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:988,columnNumber:9},this)]},void 0,!0,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:645,columnNumber:7},this)},void 0,!1,{fileName:"D:/erp-new/erp system/erp-desktop/src/components/products/ProductModal.jsx",lineNumber:644,columnNumber:5},this):null}export{$e as default};
